package calculadora;
import java.io.*;

class CalculatorInput{
	BufferedReader stream;
	CalculatorEngine engine;
	
	CalculatorInput (CalculatorEngine e){
		InputStreamReader input = new InputStreamReader(System.in);
		stream = new BufferedReader(input);
		engine = e;
	}
	
	void run() throws Exception {
		for(;;){
			System.out.print("[" + engine.display() + "]");
			String m = stream.readLine();
			System.out.println(m);
			while (m.length() > 0){
				char c = m.charAt(0);
				if (c == '+') engine.add();
				else if (c == '-') engine.subtract();
				else if (c == '*') engine.multiply();
				else if (c == '/') engine.divide();
				else if (c >= '0' && c <= '9') engine.digit(c - '0');
				else if (c == '=') engine.compute();
				else if (c == 'c' || c == 'C') engine.clear();
				else throw new Exception("Unknow operation!");
				m = m.substring(1);
				System.out.println(m);
			}
			break;
		}
	}
	public static void main(String []args) throws Exception{
		try {
		CalculatorEngine e = new CalculatorEngine();
		CalculatorInput x = new CalculatorInput(e);
		x.run();
		}catch (Exception e) 
		{
			System.out.println(e.getMessage()); 
		} 
		System.out.println("Please restart the program");
	}
}
